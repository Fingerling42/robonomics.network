---
title: "JAM для робототехніки: застосування та обмеження"
date: 2025-05-20
published: true
locale: 'uk'
tags: ['JAM', 'Robotics', 'Polkadot', 'Digital Twin']
cover_image: /blog/images/jam-for-robotics/cover.webp
description: "У цій статті ми хочемо розглянути, як JAM-стек може бути використаний у робототехніці: у яких завданнях JAM-суперкомп'ютер покаже себе найкраще, а в яких сферах його використання буде надмірним або невиправданим."
abstract: "У міру того, як архітектурне оновлення Relay Chain Polkadot рухається до Join-Accumulate Machine (JAM), ми в Robonomics замислюємося, які переваги ця технологія принесе нам і нашим пристроям. У цій статті я хочу розглянути, як JAM-стек може бути використаний у робототехніці: у яких завданнях JAM-суперкомп'ютер покаже себе найкраще, а в яких сферах його використання буде надмірним або невиправданим @ Ivan Berman [JohnnyB]"
---

## Компоненти сучасного робота

Щоб визначити коло завдань у робототехніці, почнемо з того, з яких частин зазвичай складається робот. Існує багато класифікацій, але з огляду на сучасні завдання роботів (які тісно переплелися зі штучним інтелектом), можна виділити такі підсистеми та приклади їхніх функцій:

- виконавча (наприклад, мотори, захоплення, стабілізація, баланс)
- сенсорна (наприклад, камери, лідари, IMU, датчики)
- інформаційна обробка (наприклад, розпізнавання, злиття даних із сенсорів, SLAM)
- керування (наприклад, контролери суглобів, постава, оптимізація руху)
- планування (наприклад, маршрут, рух, завдання)
- оцінювання (наприклад, одометрія, фільтри, контекст)
- комунікація (наприклад, мережеві інтерфейси, взаємодія людина-машина, мова)
- міркування (наприклад, символьне планування, LLM-міркування, логіка, управління цілями, пояснюваність)
- навчання (наприклад, глибоке, мета-, безперервне навчання, база знань)

## Що таке JAM?

Для тих, хто не стежить за останніми та майбутніми інноваціями в екосистемі Polkadot, короткий огляд. **JAM** — це протокол, розроблений для перетворення мережі на децентралізований суперкомп'ютер. Він поєднує сильні сторони Ethereum і Polkadot: єдиний глобальний простір об'єктів без дозволів, подібний до смарт-контрактів Ethereum, і безпечні паралельні обчислення зі масштабованістю, властивою Polkadot.

Це пропонуєтьсяяка досягається шляхом розподілу обчислювальної потужності валідаторів на віртуальні **ядра**. Важкі обчислення користувача виконуються лише на певному ядрі (*in-core*) паралельно з іншими, тоді як уся інфраструктура спільної безпеки залишається *на ланцюгу* і виконується кожним валідатором. Розробнику, який хоче розгорнути свій код (**сервіс**) на ядрах, потрібно лише придбати **core-time** — і сплатити саме за ту кількість ресурсів, яка дійсно потрібна.

Детальніше про протокол рекомендую звернутися до [JAM Gray Paper](https://graypaper.com/), а прогнозовані характеристики машини можна знайти в додатку. Далі розглянемо застосування JAM для робототехнічних задач.

## Застосування JAM

Де JAM може бути найбільш корисним? Відкинемо найочевидніше — немає сенсу переносити обчислення основних виконавчих компонентів на JAM-ядра, де зустрічаються контури керування з періодами < 10 мс. Тепер подивимось, як самі розробники описують своє дітище. Доктор Гевін Вуд у Gray Paper виділяє п’ять факторів, що визначають розвиток JAM:

- *Стійкість* — система повинна залишатися працездатною та незупинною, незважаючи на будь-яке втручання учасників
- *Універсальність* — система підтримує обчислення, повні за Тюрінгом
- *Продуктивність* — система повинна виконувати обчислення швидко та дешево
- *Узгодженість* — система повинна вміти встановлювати причинно-наслідкові зв’язки між станами
- *Доступність* — система може використовуватися будь-ким, легко, швидко, дешево та без дозволів

Ці фактори вже натякають нам, що JAM-суперкомп’ютер особливо корисний там, де потрібна перевірюваність обчислень і робота в довірчому середовищі. Не дивно, що саме тут ідеально вписується весь спектр задач, якими займається Robonomics з моменту свого заснування:

- незмінні журнали дій роботів для подальшого аудиту або сертифікації
- цифрові двійники пристроїв
- токенізація телеметрії для обміну або продажу
- економіка роботів: оплата за завдання, модель “робот як сервіс”

Крім того, завдяки тому, що JAM забезпечує глобальне обчислювальне середовище, можна замислитись про принципово нові рішення. Наприклад, цифровий двійник у ядрі легко перетворюється з простого реєстру станів на повноцінну модель симуляції, яка оновлюється через знімки реального пристрою.

JAM дозволить виконувати ресурсоємне глобальне планування траєкторій, яке не потребує миттєвої реакції, тим самим розвантажуючи локальний комп’ютер робота. Ще перспективніше — глобальна оптимізація завдань, шляхи та цілі для цілого рою роботів.

Для ройових технологій децентралізований суперкомп’ютер ідеально підходить для спільних завдань між роботами. Прикладами є: спільний довірений SLAM, коли кілька незалежних роботів будують і уточнюють єдину карту середовища, або федеративне навчання — спільне тренування моделі нейронної мережі, де JAM забезпечує справжню децентралізацію даних і перевірний внесок кожного робота у навчання.

Нарешті, навіть на низькому рівні виконавчих компонентів існують конкретні випадки використання: періодичний перерахунок коефіцієнтів ПІД-регулятора під час калібрування (з гарантованим записом цього факту) або доставка OTA-оновлень прошивки для приводів із криптографічними підписами.

Звісно, кожна з перелічених ідей вимагатиме продумування логіки такого сервісу у термінах JAM. Однак розробники вже готують **CoreVM** — спеціальний сервіс, який виконує роль операційної системи. Він надає розробникам контейнер для безперервного виконання коду, приховуючи внутрішній робочий процес ядер під капотом. Це фактично перетворює Polkadot на розподілену хмарну обчислювальну платформу, альтернативу Amazon Web Services чи Microsoft Azure. Завдяки цьому можна буде запускати будь-які робототехнічні завдання, якщо вони фізично здійсненні в межах ядер і оплачено час роботи ядра.

Особливий інтерес становить можливість розміщення компактних LLM-агентів у CoreVM для синтезу мовлення, планування чи простих діалогів. Вперше з’являється можливість використовувати розподілену хмарну LLM замість корпоративного сервісу. Звісно, локальні агенти на виділених GPU все ще працюють швидше, але CoreVM зменшить енергоспоживання — критичний фактор для людиноподібних роботів, чия автономність обмежена лише кількома годинами.

## Приклад: Цифровий двійник, що живе у JAM

Спробуємо змоделювати, як би виглядало життя цифрового двійника невеликого сільськогосподарського поливального робота, чиї обчислення виконуються всередині ядер JAM. Наша мета — передбачити час наступного поливу і, за потреби, перекалібрувати IMU/одометрію робота через температурний дрейф.

1. Кожні N хвилин робот збирає пакет телеметрії (вологість ґрунту, температура, одометрія) і формує **work-package**, вказуючи:
    - цільовий JAM-сервіс для аналітики та калібрування;
    - свіжі показники сенсорів як extrinsic;
    - імпортований сегмент із шару **D3L** (довготривалий **Distributed, Decentralized, Data Lake**), де зберігається попередня матриця фільтра калібрування;
    - підтвердження оплати за час роботи ядра та інші параметри.Пакет завдань підписується ключем робота і надсилається в мережу.

2. Призначене ядро отримує пакет; щонайменше два валідатори-гаранти виконують функцію `refine`:
   - завантажують попередню матрицю фільтра з D3L;
   - обчислюють новий фільтр і отримують коефіцієнти калібрування IMU/одометрії;
   - прогнозують момент, коли вологість знизиться до порогового значення;
   - складають **робочий звіт** з прогнозом і коефіцієнтами;
   - експортують нову матрицю фільтра назад у D3L.

   Після підписання звіту гаранти надсилають його автору майбутнього блоку.

3. Після того, як автор збирає всі звіти від ядер, усі валідатори перевіряють правильність робочих звітів. Потім викликається функція `accumulate`, яка:
   - оновлює поля стану в ланцюжку для наступного часу поливу та коефіцієнтів калібрування;
   - посилається на нову матрицю фільтра в D3L.

   Все, що залишається — це фіналізувати блок, щоб усі результати стали незворотними.

4. Робот періодично зчитує свій стан з блокчейну, бачить нові коефіцієнти калібрування і застосовує їх до контролера. Робот і його користувач (наприклад, у dapp) бачать прогноз поливу.

Якщо тепер описати, де знаходяться частини цифрового двійника, отримаємо наступне:

- **Поточні значення для поливу і коефіцієнтів** — стан у ланцюжку
- **Матриця фільтра** — D3L
- **Сирі пакети телеметрії** — якщо вони невеликі і не потрібні надовго, то безпосередньо в робочому пакеті; архівні та великі зберігаються в D3L для аудиту
- **Сервісний алгоритм** — сервісний акаунт у стані блокчейну


## Обмеження в робототехніці

Є кілька областей у робототехніці, де використання JAM є недоцільним. В принципі, будь-який компонент робота, що вимагає суворої роботи в реальному часі, мілісекундних затримок і миттєвого отримання нових даних із сенсорів, ефективніше залишати локально на роботі. Це стосується, наприклад, планувальника руху, який реагує на постійний потік даних зору, або критичних алгоритмів уникнення зіткнень. Обробка важких потокових даних із сенсорів (3D лідар, камери) та сенсорний ф’южн можуть бути надто важкими для JAM, якщо потрібна швидка обробка.

Підсумовуючи — обчислення на JAM у робототехніці виправдані, якщо:

- масштаб завдання вкладається в секунди / можна почекати кілька блоків до завершення
- прийнятно не чекати фіналізації блоку
- системаможе терпіти потенційні відкати стану
- сувора передача важких даних у реальному часі не є обов’язковою, або достатньо передавати обмежені пакети/знімки
- існує більш-менш стабільне мережеве з’єднання


## Висновок

Навіть без застосування в робототехніці JAM вже виглядає надзвичайно привабливо, позначаючи нову віху у стеку технологій Web3. Однак, думаючи про майбутнє робототехніки на планеті, легко уявити кілька сценаріїв, де робота роботів на децентралізованому суперкомп’ютері була б кращою (і менш лякаючою), ніж на будь-чому іншому. Завдання нашої команди Robonomics — протестувати ці сценарії та представити перевірені результати спільноті.

## Додаток: Характеристики Машини

Згідно з поточним JAM Gray Paper (v 0.6.6), система характеризується наступним чином:

- 1023 вузли-валідатори
- конфігурація одного валідатора: 16-ядерний процесор, 64 ГБ ОЗУ, 8 ТБ сховища, мережа 0,5 GbE
- 341 ядро (1023 / 3 гаранти)

Враховуючи навантаження валідаторів на підтримку протоколу, орієнтовна фактична обчислювальна потужність, доступна для коду на одному ядрі, наступна:

- 25-50% потужності ядра процесора
- 2 ГБ ОЗУ
- 2 МБ/с пропускної здатності для введення/виведення