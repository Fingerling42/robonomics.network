---
title: "JAM для робототехники: применение и ограничения"
date: 2025-05-20
published: true
locale: 'ru'
tags: ['JAM', 'Robotics', 'Polkadot', 'Digital Twin']
cover_image: /blog/images/jam-for-robotics/cover.webp
description: "В этой статье мы хотим рассмотреть, как стек JAM может быть использован в робототехнике: в каких задачах суперкомпьютер JAM проявит себя лучше всего, а в каких областях его использование будет избыточным или неоправданным."
abstract: "По мере того как архитектурное обновление Relay Chain в Polkadot движется к Join-Accumulate Machine (JAM), мы в Robonomics задумываемся, какие преимущества эта технология принесет нам и нашим устройствам. В этой статье я хочу рассмотреть, как стек JAM может быть использован в робототехнике: в каких задачах суперкомпьютер JAM проявит себя лучше всего, а в каких областях его использование будет избыточным или неоправданным @ Иван Берман [JohnnyB]"
---

## Компоненты современного робота

Чтобы определить круг задач в робототехнике, начнем с рассмотрения того, из каких частей обычно состоит робот. Существует множество классификаций, но с учетом современных задач роботов (которые тесно переплелись с ИИ), можно выделить следующие подсистемы и примеры их функций:

- исполнительная (например, моторы, захват, стабилизация, баланс)
- сенсорная (например, камеры, лидары, ИМУ, датчики)
- обработка информации (например, распознавание, слияние данных с датчиков, SLAM)
- управление (например, контроллеры сочленений, поза, оптимизация движения)
- планирование (например, маршрут, движение, задачи)
- оценка (например, одометрия, фильтры, контекст)
- коммуникация (например, сетевые интерфейсы, взаимодействие человек-машина, речь)
- рассуждение (например, символьное планирование, рассуждение LLM, логика, управление целями, объяснимость)
- обучение (например, глубокое, мета-, непрерывное обучение, база знаний)

## Что такое JAM?

Для тех, кто не следит за последними и грядущими инновациями в экосистеме Polkadot, вот краткий обзор. **JAM** — это протокол, призванный превратить сеть в децентрализованный суперкомпьютер. Он сочетает в себе сильные стороны Ethereum и Polkadot: единое глобальное permissionless-пространство объектов, аналогичное смарт-контрактам Ethereum, и безопасные параллельные вычисления с масштабируемостью, присущей Polkadot.

Это предлагаетсякоторого достигается за счет распределения вычислительной мощности валидаторов на виртуальные **ядра**. Тяжелые пользовательские вычисления выполняются только на определенном ядре (*in-core*) параллельно с другими, в то время как вся инфраструктура общей безопасности остается *on-chain* и исполняется каждым валидатором. Разработчику, который хочет развернуть свой код (**сервис**) на ядрах, нужно лишь приобрести **core-time** — и заплатить ровно за то количество ресурсов, которое действительно необходимо.

Для подробностей о протоколе рекомендую обратиться к [JAM Gray Paper](https://graypaper.com/), а прогнозируемые характеристики машины можно найти в приложении. Далее мы рассмотрим применимость JAM к задачам робототехники.

## Применения JAM

Где JAM может быть наиболее полезен? Исключим самое очевидное — нет смысла переносить вычисления основных исполнительных компонентов на ядра JAM, где встречаются контуры управления с периодами < 10 мс. Теперь можно посмотреть, как сами разработчики описывают свое детище. Доктор Гэвин Вуд в Gray Paper выделяет пять факторов, определяющих развитие JAM:

- *Устойчивость* — система должна оставаться работоспособной и неостановимой несмотря на любые вмешательства участников
- *Универсальность* — система поддерживает вычисления, эквивалентные по мощности машине Тьюринга
- *Производительность* — система должна выполнять вычисления быстро и с низкой стоимостью
- *Согласованность* — система должна уметь устанавливать причинно-следственные связи между состояниями
- *Доступность* — системой может воспользоваться любой желающий, легко, быстро, дешево и без разрешений

Эти факторы уже подсказывают нам, что суперкомпьютер JAM особенно полезен там, где требуется проверяемость вычислений и работа в недоверенной среде. Неудивительно, что сюда идеально вписывается весь спектр задач, которыми Robonomics занимается с момента основания:

- неизменяемые логи действий роботов для последующего аудита или сертификации
- цифровые двойники устройств
- токенизация телеметрии для обмена или продажи
- экономика роботов: оплата за задачи, модель “робот-как-сервис”

Кроме того, благодаря тому, что JAM предоставляет глобальную вычислительную среду, можно задуматься о принципиально новых решениях. Например, цифровой двойник в ядре легко превращается из простого реестра состояний в полноценную имитационную модель, обновляемую через снимки реального устройства.

JAM позволит реализовать ресурсоемкое глобальное планирование маршрутов, не требующее мгновенного отклика, тем самым разгружая локальный компьютер робота. Еще более перспективна глобальная оптимизация задач, маршруты и цели для всего роя роботов.

Для роевых технологий децентрализованный суперкомпьютер идеально подходит для совместных задач между роботами. Примеры включают: совместный доверенный SLAM, когда несколько независимых роботов строят и уточняют единую карту окружающей среды, или федеративное обучение — совместное обучение нейросетевой модели, где JAM обеспечивает настоящую децентрализацию данных и проверяемый вклад каждого робота в обучение.

Наконец, даже на низком уровне исполнительных компонентов существуют специфические сценарии: периодический пересчёт коэффициентов ПИД-регулятора во время калибровки (с гарантированной записью этого факта) или доставка OTA-обновлений прошивки для приводов с криптографическими подписями.

Разумеется, для каждой из перечисленных идей потребуется продумать логику такого сервиса с точки зрения JAM. Однако разработчики уже готовят **CoreVM** — специальный сервис, выступающий в роли операционной системы. Он предоставляет разработчикам контейнер для непрерывного выполнения кода, скрывая внутренний рабочий процесс ядер под капотом. Это фактически превращает Polkadot в распределённую облачную вычислительную платформу, альтернативу Amazon Web Services или Microsoft Azure. Благодаря этому можно будет запускать любые задачи робототехники, если они физически выполнимы в рамках ядер и оплачен core-time.

Особый интерес представляет возможность размещения компактных LLM-агентов в CoreVM для синтеза речи, планирования или простых диалогов. Впервые появляется возможность использовать распределённый облачный LLM вместо корпоративного сервиса. Конечно, локальные агенты на выделенных GPU всё ещё работают быстрее, но CoreVM снизит энергопотребление — критически важный фактор для человекоподобных роботов, чья автономность ограничена всего несколькими часами.

## Пример: Цифровой двойник, живущий в JAM

Попробуем смоделировать, как могла бы выглядеть жизнь цифрового двойника небольшого сельскохозяйственного поливочного робота, чьи вычисления выполняются внутри ядер JAM. Наша цель — предсказать время следующего полива и, при необходимости, откалибровать ИМУ/одометрию робота из-за температурного дрейфа.

1. Каждые N минут робот собирает пакет телеметрии (влажность почвы, температура, одометрия) и формирует **work-package**, указывая:
    - целевой JAM-сервис для аналитики и калибровки;
    - свежие показания датчиков как extrinsic;
    - импортированный сегмент из слоя **D3L** (долговременное **Distributed, Decentralized, Data Lake**), где хранится предыдущая матрица фильтра калибровки;
    - подтверждение оплаты core-time и другие параметры.Пакет работы подписывается ключом робота и отправляется в сеть.

2. Назначенное ядро получает пакет; как минимум два валидатора-гаранта выполняют функцию `refine`:
    - загружают предыдущую матрицу фильтра из D3L;
    - рассчитывают новый фильтр и получают коэффициенты калибровки IMU/одометрии;
    - предсказывают момент, когда влажность опустится до порогового значения;
    - составляют **рабочий отчет** с прогнозом и коэффициентами;
    - экспортируют новую матрицу фильтра обратно в D3L.

    После подписания отчета гаранты отправляют его автору будущего блока.

3. После того как автор собирает все отчеты от ядер, все валидаторы проверяют корректность рабочих отчетов. Затем вызывается функция `accumulate`, которая:
    - обновляет поля состояния в цепочке для следующего времени полива и коэффициентов калибровки;
    - делает ссылку на новую матрицу фильтра в D3L.

    Остается только финализировать блок, чтобы все результаты стали необратимыми.

4. Робот периодически считывает свое состояние из блокчейна, видит новые коэффициенты калибровки и применяет их к контроллеру. Робот и его пользователь (например, в dapp) видят прогноз полива.

Если теперь описать, где находятся части цифрового двойника, получится следующее:

- **Текущие значения для полива и коэффициентов** — состояние в цепочке
- **Матрица фильтра** — D3L
- **Сырые пакеты телеметрии** — если они небольшие и не нужны надолго, то прямо в рабочем пакете; архивные и большие хранятся в D3L для аудита
- **Сервисный алгоритм** — сервисный аккаунт в состоянии блокчейна


## Ограничения в робототехнике

Существует несколько областей в робототехнике, где использование JAM непрактично. В принципе, любой компонент робота, требующий строгой работы в реальном времени, миллисекундных задержек и мгновенного получения новых данных с датчиков, эффективнее держать локально на роботе. Это относится, например, к планировщику движения, реагирующему на постоянный поток данных с камер, или к критическим алгоритмам предотвращения столкновений. Обработка тяжелых потоковых данных с датчиков (3D лидар, камеры) и слияние данных с датчиков могут быть слишком ресурсоемкими для JAM, если требуется быстрая обработка.

В итоге — вычисления на JAM в робототехнике оправданы, если:

- масштаб задачи укладывается в секунды / можно подождать несколько блоков до завершения
- допустимо не ждать финализации блока
- системаможет терпеть возможные откаты состояния
- строгая передача тяжелых данных в режиме реального времени не требуется, либо достаточно передачи ограниченных пакетов/снимков
- имеется более или менее стабильное сетевое соединение


## Заключение

Даже без применения в робототехнике JAM уже выглядит чрезвычайно привлекательно, отмечая новую веху в стеке технологий Web3. Однако, размышляя о будущем робототехники на планете, легко представить несколько сценариев, в которых работа роботов на децентрализованном суперкомпьютере была бы предпочтительнее (и менее пугающей), чем на чем-либо еще. Задача нашей команды Robonomics — протестировать эти сценарии и представить проверенные результаты сообществу.

## Приложение: Характеристики машины

Согласно текущему JAM Gray Paper (v 0.6.6), система характеризуется следующим образом:

- 1023 валидаторных узла
- конфигурация одного валидатора: 16-ядерный процессор, 64 ГБ ОЗУ, 8 ТБ хранилища, 0,5 Гбит/с сеть
- 341 ядро (1023 / 3 гаранта)

С учетом нагрузки валидаторов на поддержку протокола, расчетная фактическая вычислительная мощность, доступная для кода на одном ядре, следующая:

- 25-50% мощности ядра процессора
- 2 ГБ ОЗУ
- 2 МБ/с пропускной способности для ввода/вывода