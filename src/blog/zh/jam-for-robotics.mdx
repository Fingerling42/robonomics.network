---
title: "JAM 在机器人领域的应用与局限"
date: 2025-05-20
published: true
locale: 'zh'
tags: ['JAM', 'Robotics', 'Polkadot', 'Digital Twin']
cover_image: /blog/images/jam-for-robotics/cover.webp
description: "本文旨在探讨 JAM 堆栈在机器人领域的应用：JAM 超级计算机在哪些任务中表现最佳，以及在哪些领域其使用是多余或不合理的。"
abstract: "随着 Polkadot 中继链架构升级向 Join-Accumulate Machine（JAM）推进，我们在 Robonomics 正在思考这项技术将为我们和我们的设备带来哪些益处。本文将探讨 JAM 堆栈在机器人领域的应用：JAM 超级计算机在哪些任务中表现最佳，以及在哪些领域其使用是多余或不合理的 @ Ivan Berman [JohnnyB]"
---

## 现代机器人的组成部分

为了界定机器人领域的任务范围，我们先来看一下机器人通常由哪些部分组成。分类方式有很多，但考虑到现代机器人的任务（这些任务已与人工智能紧密结合），我们可以识别出以下子系统及其功能示例：

- 执行（如电机、抓取、稳定、平衡）
- 感知（如摄像头、激光雷达、IMU、传感器）
- 信息处理（如识别、传感器融合、SLAM）
- 控制（如关节控制器、姿态、运动优化）
- 规划（如路径、运动、任务）
- 估算（如里程计、滤波、环境感知）
- 通信（如网络接口、人机交互、语音）
- 推理（如符号规划、大型语言模型推理、逻辑、目标管理、可解释性）
- 学习（如深度学习、元学习、持续学习、知识库）

## 什么是 JAM？

对于那些没有关注 Polkadot 生态系统最新和即将到来的创新的人，这里有一个简要介绍。**JAM** 是一个旨在将网络转变为去中心化超级计算机的协议。它结合了以太坊和 Polkadot 的优势：类似以太坊智能合约的统一全球无许可对象空间，以及 Polkadot 所固有的安全并行计算和可扩展性。

这被提议通过将验证者的计算能力分配到虚拟**核心**，实现这一目标。高负载用户的计算仅在特定核心（*核心内*）上并行执行，而所有共享的安全基础设施仍然*链上*，由每个验证者执行。开发者若想在核心上部署他们的代码（**服务**），只需购买**核心时间**——并且只需为实际所需的资源量付费。

关于协议的详细信息，建议参考 [JAM Gray Paper](https://graypaper.com/)，你可以在附录中找到该机器的预期特性。接下来，我们将探讨 JAM 在机器人任务中的适用性。

## JAM 的应用

JAM 最有益的场景在哪里？让我们先排除最明显的——将主要执行部件的计算迁移到 JAM 核心毫无意义，因为这些部件的控制回路周期小于 10 毫秒。现在我们可以看看开发者自己是如何描述他们的心血结晶的。Dr. Gavin Wood 在 Gray Paper 中指出，决定 JAM 发展的五个因素：

- *弹性* —— 系统必须在任何参与者干预下都能保持运行且不可阻挡
- *通用性* —— 系统支持图灵完备的计算
- *性能* —— 系统必须以低成本快速完成计算
- *一致性* —— 系统必须能够在状态之间建立因果关系
- *可访问性* —— 系统可供任何人使用，简单、快速、廉价且无需许可

这些因素已经暗示 JAM 超级计算机在需要计算可验证性和无需信任环境下运行的场景中尤其有用。毫不奇怪，这正好涵盖了 Robonomics 自成立以来所涉及的全部任务领域：

- 机器人行为的不可篡改日志，用于后续审计或认证
- 设备的数字孪生
- 遥测数据的代币化以便交换或出售
- 机器人经济：任务支付，“机器人即服务”模式

此外，得益于 JAM 提供的全球计算环境，我们可以思考一些全新的解决方案。例如，核心中的数字孪生可以轻松从简单的状态账本转变为完整的仿真模型，并通过真实设备的快照进行更新。

JAM 将实现不需要即时响应的资源密集型全球路径规划，从而减轻机器人本地计算机的负担。更有前景的是任务的全球优化、路径和目标。

对于群体技术，去中心化超级计算机非常适合机器人之间的协作任务。例如：协作式可信SLAM，多个独立机器人共同构建和完善环境的统一地图；或联邦学习——神经网络模型的协作训练，JAM确保数据真正去中心化，并可验证每个机器人对训练的贡献。

最后，即使在底层的执行组件上，也有具体的应用场景：校准期间定期重新计算PID控制器系数（并保证此操作被记录），或为驱动器推送带有加密签名的OTA固件更新。

当然，上述每个想法都需要用JAM的逻辑来仔细设计。不过，开发者们已经在准备**CoreVM**——一种作为操作系统运行的特殊服务。它为开发者提供了一个持续代码执行的容器，将核心的内部工作过程隐藏在底层。这实际上将Polkadot变成了一个分布式云计算平台，可作为Amazon Web Services或Microsoft Azure的替代方案。得益于此，只要物理上可行并支付了核心时间，任何机器人任务都可以运行在其中。

尤其值得关注的是，在CoreVM中托管紧凑型LLM代理用于语音合成、规划或简单对话的能力。首次有机会使用分布式云LLM，而非企业服务。当然，专用GPU上的本地代理依然更快，但CoreVM将降低能耗——这对自主时间仅有数小时的人形机器人来说至关重要。

## 示例：生活在JAM中的数字孪生

让我们尝试模拟一个小型农业灌溉机器人的数字孪生体在JAM核心中运行的生活。我们的目标是预测下一次灌溉的时间，并在必要时因温度漂移重新校准机器人的IMU/里程计。

1. 每隔N分钟，机器人收集一次遥测数据包（土壤湿度、温度、里程计），并生成一个**工作包**，其中包括：
    - 目标JAM服务（用于分析和校准）；
    - 作为外部输入的新鲜传感器读数；
    - 从**D3L**层（持久的**分布式、去中心化数据湖**）导入的上一次校准滤波矩阵片段；
    - 已支付核心时间的凭证及其他参数。工作包由机器人的密钥签名后发送到网络。

2. 指定的核心接收包裹；至少有两名验证者-担保人执行 `refine` 函数：
   - 从 D3L 加载先前的滤波矩阵；
   - 计算新的滤波器并获得 IMU/里程计的校准系数；
   - 预测湿度降至阈值的时刻；
   - 制作带有预测和系数的**工作报告**；
   - 将新的滤波矩阵导出回 D3L。

   担保人在签署报告后，将其发送给未来区块的作者。

3. 作者收集所有核心的报告后，所有验证者检查工作报告的正确性。然后调用 `accumulate` 函数，该函数：
   - 更新链上状态字段，包括下次灌溉时间和校准系数；
   - 链接到 D3L 中的新滤波矩阵。

   剩下的就是最终确定区块，使所有结果变得不可逆。

4. 机器人定期从区块链读取其状态，看到新的校准系数，并将其应用到控制器。机器人及其用户（例如在 dapp 中）可以看到灌溉预测。

如果我们现在描述数字孪生体各部分的存储位置，得到如下内容：

- **灌溉和系数的当前值** —— 链上状态
- **滤波矩阵** —— D3L
- **原始遥测包** —— 如果体积小且不需长时间保存，则直接存储在工作包中；归档和大型数据则存储在 D3L 以供审计
- **服务算法** —— 区块链状态中的服务账户


## 机器人领域的局限性

在机器人领域，有几个方面使用 JAM 并不实际。原则上，任何需要严格实时操作、毫秒级延迟和即时获取新传感器数据的机器人组件，更高效地保留在本地。这适用于例如响应持续视觉数据流的运动规划器，或关键的避障算法。处理来自传感器（如 3D 激光雷达、摄像头）的高负载流数据以及传感器融合，如果需要快速处理，JAM 可能过于繁重。

总结来说——如果满足以下条件，JAM 在机器人领域的计算是合理的：

- 任务规模在几秒内完成 / 可以等待几个区块完成
- 可以接受不等待区块最终确定
- 系统可以容忍潜在的状态回滚
- 不需要严格的重实时大数据流，或者仅需传输有限的批次/快照
- 网络连接较为稳定

## 结论

即使不考虑机器人应用，JAM 也已经极具吸引力，标志着 Web3 技术栈的一个新里程碑。然而，当我们思考地球上机器人未来的发展时，不难想象，在去中心化超级计算机上运行的机器人在多个场景下会比其他任何方式更可取（也更不令人恐惧）。我们 Robonomics 团队的任务就是测试这些场景，并向社区展示经过验证的结果。

## 附录：机器特性

根据当前的 JAM Gray Paper（v 0.6.6），该系统的特性如下：

- 1023 个验证节点
- 单个验证节点配置：16 核 CPU，64 GB 内存，8 TB 存储，0.5 GbE 网络
- 341 核心（1023 / 3 担保人）

考虑到验证节点在协议支持上的负载，单核可用于代码的实际计算能力估算如下：

- 25-50% 的核心处理能力
- 2 GB 内存
- 2 MB/s 输入/输出带宽