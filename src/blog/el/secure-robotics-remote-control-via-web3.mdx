---
title: "Ασφαλής Απομακρυσμένος Έλεγχος Ρομποτικής: Η Λύση της Robonomics"
date: 2024-04-19
published: true
locale: 'el'
cover_image: /blog/images/secure-robotics-remote-control-via-web3/remote_control_cover.png
description: "Η απομακρυσμένη σύνδεση και ο έλεγχος της δικής σας έξυπνης συσκευής είναι μια πολύ δημοφιλής λειτουργία μεταξύ των χρηστών. Ωστόσο, ένα τόσο απλό φαινομενικά έργο εξακολουθεί να προκαλεί πολλές δυσκολίες σε άπειρους χρήστες - από την υπέρβαση του NAT έως τα ζητήματα ασφάλειας. Σε ένα νέο άρθρο, θα δείξουμε πώς αυτές οι δυσκολίες μπορούν να ξεπεραστούν με τη βοήθεια της Robonomics."
related: ['Robonomics Helps Enable Rust for ROS 2', 'Automation: Home meets Industrial']
abstract: "Η απομακρυσμένη σύνδεση και ο έλεγχος της δικής σας έξυπνης συσκευής είναι μια πολύ δημοφιλής λειτουργία μεταξύ των χρηστών. Ωστόσο, ένα τόσο απλό φαινομενικά έργο εξακολουθεί να προκαλεί πολλές δυσκολίες σε άπειρους χρήστες - από την υπέρβαση του NAT έως τα ζητήματα ασφάλειας. Σε ένα νέο άρθρο, θα δείξουμε πώς αυτές οι δυσκολίες μπορούν να ξεπεραστούν με τη βοήθεια της Robonomics."
tags: ['ROS 2', 'Smart Home']
---

Στο προηγούμενο άρθρο, μιλήσαμε για το πώς χρησιμοποιούμε τα πλεονεκτήματα των βιομηχανικών λύσεων στην υποδομή ενός ρομποτοποιημένου έξυπνου σπιτιού. Δείξαμε πώς το πλαίσιο ROS 2 και το πρωτόκολλο μεσαίου λογισμικού του παρέχουν αυτόματη ανίχνευση συσκευών και εντατική αλληλεπίδραση (συμπεριλαμβανομένης και σε πραγματικό χρόνο) μεταξύ τους εντός ενός τοπικού δικτύου, κάτι που είναι πολύ βολικό. Ωστόσο, αυτή η προσέγγιση είναι κατάλληλη κυρίως για τη λεγόμενη Ζώνη Εμπιστοσύνης - εκείνο το μέρος του υπολογιστικού δικτύου όπου η εμφάνιση οποιουδήποτε τρίτου παράγοντα είναι απίθανη. Σε αυτή την περίπτωση, εμπιστευόμαστε όλα τα προγράμματα που εκτελούνται και δεν χρειάζεται να χρησιμοποιήσουμε κρυπτογράφηση, όπως ακριβώς δεν χρησιμοποιείται εντός ενός υπολογιστή όταν τα προγράμματα ανταλλάσσουν δεδομένα μεταξύ τους.

Αλλά τι γίνεται αν χρειάζεται να διασφαλίσετε τη λειτουργία των συσκευών ROS 2 με κάποια εξωτερική υπηρεσία ή να παρέχετε απομακρυσμένη πρόσβαση σε αυτές από το εξωτερικό; Σε τέτοιες στιγμές, προκύπτει ένα πρόβλημα ασφάλειας - έχοντας αποκτήσει πρόσβαση σε έναν κόμβο ROS 2, μια εξωτερική υπηρεσία (και δυνητικά ένας κακόβουλος χρήστης) ουσιαστικά αποκτά πρόσβαση σε όλους τους άλλους κόμβους - μπορεί να ακούει όλη την εσωτερική κυκλοφορία DDS και να έχει πρόσβαση σε όλες τις διαθέσιμες υπηρεσίες του συστήματος.

Ο κλασικός συμβιβασμός μεταξύ ασφάλειας και ταχύτητας/ευκολίας επιλύεται με τη διαίρεση του κυρίαρχου συστήματος έξυπνου σπιτιού σε δύο μέρη - ασφαλές και μη ασφαλές.

## Ασφάλεια ROS 2

Ο καθορισμός μιας ζώνης με ειδικές απαιτήσεις ασφάλειας στον χώρο εργασίας των κόμβων ROS 2 είναι ένα αρκετά μη τετριμμένο έργο. Το τυπικό πακέτο ασφάλειας ROS 2 ([sros2](https://docs.ros.org/el/rolling/Concepts/Intermediate/About-Security.html)) αποτελεί μέρος του [ros-core](https://ros.org/reps/rep-2001.html#id32), πάνω στο οποίο βασίζονται όλες οι διανομές του ROS 2, και σύμφωνα με τους βασικούς προγραμματιστές, έχει ως στόχο να λύσει αυτό το πρόβλημα. Παρέχει τη δυνατότητα εγκατάστασης μιας σχετικά απλής υποδομής δημόσιου κλειδιού (PKI) εντός ενός τοπικού δικτύου. Για κάθε κόμβο ROS 2, ορίζονται πολιτικές πρόσβασης στα δεδομένα άλλων κόμβων, καθώς και ένα σύνολο τυπικών αρχείων για τέτοια σενάρια - κρυπτογραφικά κλειδιά και πιστοποιητικά. Κατά την εκτέλεση του προγράμματος, οι κόμβοι "βλέπουν" μόνο εκείνες τις πηγές δεδομένων στις οποίες η πρόσβαση έχει δηλωθεί ρητά στη διαμόρφωση κατά το στάδιο εκκίνησης του έργου. Ωστόσο, αυτή η προσέγγιση έχει ένα σημαντικό μειονέκτημα - όλη η κυκλοφορία στο σύστημα είναι κρυπτογραφημένη, κάτι που μπορεί να επηρεάσει την απόδοση υπό το φορτίο δικτύου που δημιουργεί το DDS. Θα χρειαστεί να καταγραφούν όλες οι πολιτικές πρόσβασης και να δημιουργηθούν κλειδιά για όλους τους κόμβους. Αυτό είναι πολύ δύσκολο να ρυθμιστεί και να συντηρηθεί. Και το πιο σημαντικό, χάνουμε το κύριο πλεονέκτημα του ROS 2 Middleware - την απόδοση.

## Γέφυρες

Μια άλλη λύση είναι η δημιουργία των λεγόμενων πυλών (gateways), οι οποίες μεταδίδουν τα απαραίτητα δεδομένα διατηρώντας όλα τα υπόλοιπα ιδιωτικά. Συνήθως, αυτό επιτυγχάνεται με τη χρήση VPN ή SSH τούνελ. Δημιουργείται ένας ξεχωριστός κόμβος στον ασφαλή χώρο ανταλλαγής δεδομένων, ο οποίος διαθέτει δημόσια διεύθυνση για εξωτερικές συνδέσεις. Σε αυτή την περίπτωση, η διαχείριση της ασφάλειας πραγματοποιείται μόνο σε επίπεδο αυτού του κόμβου (ουσιαστικά ένα παράθυρο προς τον έξω κόσμο), χωρίς να επηρεάζονται όλοι οι υπόλοιποι. Αυτή η προσέγγιση χρησιμοποιείται στα έργα [Husarnet](https://github.com/husarnet/husarnet), [DDS Router](https://github.com/eProsima/DDS-Router) και [Zenoh Bridge](https://github.com/eclipse-zenoh/zenoh-plugin-ros2dds), αλλά έχει επίσης τα μειονεκτήματά της. Σε αυτό το σενάριο, πρέπει να δημιουργήσετε ένα ασφαλές κανάλι επικοινωνίας αυστηρά συνδεδεμένο με τη διεύθυνση IP ή το όνομα τομέα του αντισυμβαλλομένου. Αυτά μπορεί να αλλάξουν, να μπλοκαριστούν ή να είναι ευάλωτα σε επιθέσεις. Την εποχή που δημιουργήθηκε το SSH, αυτό δεν είχε ληφθεί υπόψη. Επιπλέον, το SSH βασίζεται κυρίως στο σύστημα ελέγχου πρόσβασης του λειτουργικού συστήματος, με όλα τα εγγενή του μειονεκτήματα.

<RbImage zoom src="/blog/images/secure-robotics-remote-control-via-web3/remote_control_legacy_approach.png" alt="Classic Remote Control via public IP and SSH/VPN" />

*Αυτή είναι η συνήθης μέθοδος με την οποία οι χρήστες συνδέονται απομακρυσμένα με τα ρομπότ τους σήμερα. Ωστόσο, αυτή η προσέγγιση έχει ορισμένα μειονεκτήματα. Απαιτεί μια δημόσια διεύθυνση IP ή/και όνομα DNS, τα οποία μπορεί να μπλοκαριστούν σε ορισμένες χώρες. Επίσης, απαιτεί την αποθήκευση επιπλέον ιδιωτικών κλειδιών σε ενδεχομένως μη ασφαλείς τοποθεσίες (π.χ., ~/.ssh).*

Το SSH, που χρησιμοποιείται κυρίως από διαχειριστές συστημάτων και ειδικούς IT, απαιτεί βασικές γνώσεις της γραμμής εντολών Bash και εμπιστοσύνη στο λειτουργικό σύστημα, καθώς τα κλειδιά κρυπτογράφησης αποθηκεύονται απευθείας στο σύστημα αρχείων ή στον SSH agent. Η διαχείριση των κλειδιών πρόσβασης παραμένει μια αρκετά πολύπλοκη διαδικασία για τον μέσο χρήστη ώστε να παραμείνει ένας ασφαλής τρόπος προστασίας των δεδομένων του.

## Λύση Web3

Όπως βλέπουμε, οι παραπάνω μέθοδοι δεν στερούνται μειονεκτημάτων, οπότε θα εξετάσουμε μια πιθανή λύση στο πρόβλημα χρησιμοποιώντας τεχνολογίες peer-to-peer δικτύων, πάνω στις οποίες βασίζεται το Robonomics. Σε αυτή την περίπτωση, το αποκεντρωμένο cloud του Robonomics μπορεί να θεωρηθεί ως ένας ασφαλής πίνακας δρομολόγησης, όπου οι διευθύνσεις των αντισυμβαλλομένων είναι τα δημόσια κλειδιά των κόμβων. Χρειάζεστε έναν τοπικό κόμβο Robonomics και να γνωρίζετε ποιο δημόσιο κλειδί έχει ο αντισυμβαλλόμενός σας, ώστε να μην εξαρτάστε από το σύστημα DNS (συμπεριλαμβανομένων των καταχωρητών και διακομιστών ονομάτων τομέα) και το μπλοκάρισμα διευθύνσεων IP. Η βιβλιοθήκη [libP2P](https://libp2p.io/), που χρησιμοποιεί το Robonomics, μπορεί να χρησιμοποιήσει διαφορετικά πρωτόκολλα μεταφοράς για την παράδοση μηνυμάτων.

Επιπλέον, με την πρόοδο των τεχνολογιών Web3, έχουν εμφανιστεί πιο αποδοτικές μέθοδοι για τη διαχείριση κρίσιμων πληροφοριών, συμπεριλαμβανομένων των ιδιωτικών κλειδιών. Μία από αυτές είναι η μνημονική φράση ή seed - ένα σύνολο από 12 ή 24 λέξεις, που χρησιμοποιείται για τη δημιουργία λογαριασμών σε αποκεντρωμένα δίκτυα. Αυτή η μέθοδος είναι βολική και ασφαλής, καθώς το seed γράφεται σε εξωτερικό μέσο (για παράδειγμα, σε χαρτί) μία φορά κατά την αρχικοποίηση και χρησιμοποιείται μόνο για την ανάκτηση του λογαριασμού. Από τη μνημονική φράση δημιουργείται ένα master key, από το οποίο μπορεί να δημιουργηθεί οποιαδήποτε ιεραρχία κλειδιών για διαφορετικές εργασίες (βλ. **[Ιεραρχικά ντετερμινιστικά κλειδιά](https://docs.substrate.io/reference/command-line-tools/subkey/#hierarchical-deterministic-keys)**). Αυτό απλοποιεί τη διαχείριση των κλειδιών και την ανάκτησή τους σε περίπτωση απώλειας. Αν κάποιος κακόβουλος αποκτήσει πρόσβαση σε ένα από τα ζεύγη κλειδιών σας, δεν θα μπορέσει να πάρει πληροφορίες για άλλα κλειδιά που δημιουργήθηκαν από τη μνημονική φράση. Η δυνατότητα soft derived key επιτρέπει την επιβεβαίωση της κυριότητας του root λογαριασμού χωρίς να τον αποκαλύπτετε. Επειδή τα soft keys μπορούν να παραχθούν χρησιμοποιώντας το δημόσιο κλειδί του γονέα, μπορούν να χρησιμοποιηθούν για την ταυτοποίηση του γονέακλειδί χωρίς να εκθέτει το γονικό seed.

## Απομακρυσμένος έλεγχος στο Home Assistant

Ας εξετάσουμε τη διαδικασία σύνδεσης με περισσότερες λεπτομέρειες. Η αποκεντρωμένη [εφαρμογή Robonomics](https://robonomics.app/) (ή απλά DApp) λειτουργεί απευθείας στον περιηγητή σας, δεν απαιτεί να εγκαταστήσετε επιπλέον λογισμικό ή την ανάγκη αποθήκευσης κλειδιών στο σύστημα αρχείων σε ένα περιβάλλον με μεγάλο αριθμό προγραμμάτων, των οποίων την ασφάλεια δεν μπορείτε να είστε σίγουροι. Η διαχείριση των κλειδιών πρόσβασης πραγματοποιείται μέσω της επέκτασης Polkadot JS, καθώς και με τη βοήθεια εξωτερικής συσκευής αποθήκευσης κλειδιών (για παράδειγμα, [Polkadot Vault](https://wiki.polkadot.network/docs/polkadot-vault)) για επιπλέον αξιοπιστία. Εκτός από το εξειδικευμένο λογισμικό για αλληλεπίδραση με το Robonomics, το DApp περιλαμβάνει επίσης έναν ελαφρύ κόμβο libP2P, με τον οποίο πραγματοποιείται η σύνδεση με το Home Assistant.

<RbImage zoom src="/blog/images/secure-robotics-remote-control-via-web3/robonomics_home_assistant_usecase.png" alt="Απομακρυσμένος Έλεγχος Home Assistant" />

Ο κάτοχος μιας συνδρομής Robonomics Web Service διαχειρίζεται τα δικαιώματα πρόσβασης στην υποδομή του έξυπνου σπιτιού μέσω αυτού που ονομάζεται controller - ένας λογαριασμός που διαχειρίζεται όλες τις ευαίσθητες πληροφορίες σε κρυπτογραφημένη μορφή σε ένα ψηφιακό δίδυμο. Μόνο οι χρήστες που έχουν προστεθεί στη συνδρομή μπορούν να αποκρυπτογραφήσουν αυτά τα δεδομένα. Εκτός από τα κλειδιά πρόσβασης, το Digital Twin αποθηκεύει επίσης τη διαμόρφωση του DApp και τη λεγόμενη multi-address του libP2P στην οποία συνδέεται το DApp για ασφαλή σύνδεση. Η multi-address είναι μία από εκείνες τις καινοτομίες που καθιστούν την προσέγγιση του libP2P τόσο μοναδική και ευέλικτη. Πρόκειται για μια ειδική μορφή διεύθυνσης για κόμβους, η οποία συνεπάγεται την ύπαρξη πολλών διευθύνσεων IP, αναγνωριστικών μεταφοράς και δικτύου, πρωτοκόλλων και θυρών, μέσω των οποίων μπορείτε να επικοινωνήσετε με έναν συγκεκριμένο κόμβο. Ο πλήρης κατάλογος των υποστηριζόμενων πρωτοκόλλων παρουσιάζεται στην [προδιαγραφή](https://github.com/multiformats/multiaddr/blob/master/protocols.csv).

Έτσι, ο χρήστης που προστέθηκε στη συνδρομή εξάγει μια multi-address από το ψηφιακό δίδυμο του Robonomics και δημιουργεί μια ασφαλή σύνδεση με ένα Peer ID που είναι γνωστό μόνο σε αυτόν. Επιτυχία!

## Απομακρυσμένος Έλεγχος στο ROS 2

Με παρόμοιο τρόπο, μπορείτε να χρησιμοποιήσετε τις υπάρχουσες δυνατότητες του Robonomics για να αλληλεπιδράσετε με ρομπότ. Η ομάδα Robossembler, στο πλαίσιο του Robonomics Grant Program, ανέπτυξε ένα Proof of Concept έργο γνωστό ως [Robonomics Bridge](https://gitlab.com/robossembler/robonomics_bridge). Αυτή η γέφυρα επιτρέπειτους κόμβους ROS 2 να συνδεθούν με οποιαδήποτε εξωτερική υπηρεσία, απομακρυσμένο σταθμό εργασίας ή άλλο σύστημα ROS 2.

<RbImage zoom src="/blog/images/secure-robotics-remote-control-via-web3/robonomics_ros2_usecase.png" alt="Απομακρυσμένος Έλεγχος ROS 2 με Robonomics" />

*Μια απεικόνιση του πώς θα μπορούσε να μοιάζει ο απομακρυσμένος έλεγχος ενός οικιακού ρομπότ στην περίπτωση του ROS 2. Αυτή η προσέγγιση προσφέρει σημαντικά πλεονεκτήματα: δεν απαιτείται δημόσια IP, η πρόσβαση στο ρομπότ είναι διαθέσιμη ακόμη και μέσω firewalls δικτύου (NAT), τα ιδιωτικά κρυπτογραφικά κλειδιά δεν αποθηκεύονται στον δίσκο και προστατεύονται αξιόπιστα.*

Το πρωτόκολλο που χρησιμοποιείται στο ROS 2, DDS, συνδυάζεται φυσικά με το libP2P λόγω του παρόμοιου μοντέλου εκδότη-συνδρομητή για την αλληλεπίδραση των κόμβων. Με τη βοήθεια της γέφυρας Robonomics, οι κόμβοι ROS 2 και οι διεπαφές τους - θέματα, υπηρεσίες, τύποι μηνυμάτων (για παράδειγμα, χρησιμοποιώντας το eProsima Integration Service) μπορούν να διαμορφωθούν δηλωτικά, μέσω των οποίων είναι δυνατή η αλληλεπίδραση με το ρομπότ από το εξωτερικό. Αυτό επιτρέπει επίσης ένα επιπλέον επίπεδο ασφάλειας κατά τη σύνδεση με απομακρυσμένο υπολογιστή. Ο μηχανισμός για την απόκτηση του PeerID του αντισυμβαλλόμενου μπορεί να είναι ο ίδιος όπως στην περίπτωση του Home Assistant - μέσω ενός αιτήματος Digital Twin από τον κόμβο Robonomics, με τη μόνη διαφορά ότι αντί για τον Home Assistant Server θα υπάρχει ένα ρομπότ ROS 2, και αντί για το libP2P-websocker-proxy θα υπάρχει ένα Robonomics ROS 2 Wrapper συνδεδεμένο με το ρομπότ.

## Δυνητικές ευκαιρίες στο μέλλον

Ωστόσο, αυτές δεν είναι όλες οι δυνατότητες που μπορεί να προσφέρει ένα αποκεντρωμένο cloud με τεχνολογίες Web3. Στο παραπάνω παράδειγμα, αυτές οι τεχνολογίες χρησιμοποιούνται για σχετικά απλή μετάδοση ροών δεδομένων μηνυμάτων μεταξύ απομακρυσμένων υπολογιστών.

Αυτό μπορεί να χαρακτηριστεί ως το βασικό επίπεδο μεταφοράς στη στοίβα δικτύου Robonomics, το οποίο αποτελεί τη βάση για την υλοποίηση πιο σύνθετων πρωτοκόλλων ανώτερου επιπέδου. Ξεκινώντας από αναλογίες SSH, που συνεπάγονται πιο διαδραστική αλληλεπίδραση των χρηστών με τα κυβερνοφυσικά τους συστήματα, και καταλήγοντας σε πρωτόκολλα εφαρμογών που συνεπάγονται την αλληλεπίδραση μεγάλου αριθμού χρηστών αυτόνομης ρομποτικής υποδομής.

Για παράδειγμα, η απόφαση για την έναρξη παραγωγής ενός συγκεκριμένου προϊόντος μπορεί να συνδεθεί με ψηφοφορία εντός ενός οργανισμού δυνητικών καταναλωτών του προϊόντος, λαμβάνοντας υπόψη την οικονομική σκοπιμότητα. Επί του παρόντος, η απόφαση για την έναρξη οποιασδήποτε παραγωγής λαμβάνεται μέσω μηχανισμών επένδυσης, όπου οι επενδυτές, έχοντας λάβει πληροφορίες για τη δυνητική ζήτηση, μπορούν να αποκτήσουν μετοχές μεμονωμένων εταιρειών που μπορούν να ικανοποιήσουν αυτή τη ζήτηση στο μέλλον.. Εάν οι καταναλωτές μπορούν να συμμετέχουν πιο ενεργά στην ανάπτυξη και τιμολόγηση νέων προϊόντων, τότε μακροπρόθεσμα μπορούμε να περάσουμε σε ένα τέτοιο μοντέλο λειτουργίας όπου η παραγωγή θα αναδιαρθρώνεται αυτόματα για να ικανοποιεί τη ζήτηση σύμφωνα με τα δεδομένα που παρέχονται από τους καταναλωτές στο δίκτυο.