---
// components
import Layout from "../layouts/Layout.astro";
import RbButton from "../components/RbButton.astro";
import Youtube from "../components/utils/Youtube.astro";

// data
import { contacts } from "../data/socials.js";

const twitter = contacts.filter((item) => item.title.toLowerCase() === "x");
---

<Layout
  title={$tr("Robonomics Tokenomics ($XRT, $RWS, $AIRA)")}
  description={$tr("Learn everything about $XRT — the main Robonomics token. Explore its utility, supply, and statistics. Plus, get brief insights on $RWS and $AIRA.")}
  ogImage="/website_cover_token.webp"
  pageImageHeight="650"
>
  <section class="space-b-2">
    <div class="title-with-bg">
      <h1><span>{$tr('Robonomics tokenomics')}</span></h1>
    </div>

    <div class="layout xrt-top">
      <img src="/images/xrt/logo.webp" alt="xrt logo" />
      <p><b>XRT</b> {$tr('is a utility token for robotics and smart devices users — it enables them to purchase monthly web3 cloud subscriptions with predictable latency.')}</p>
    </div>
  </section>


  <section class="xrt-total">
    <div class="layout">
      <h2 class="title-lined"><span>{$tr('Total supply distribution')}</span></h2>
      <div class="grid-2">
        <div id="xrt-stats">
      
          <div id="xrt-loading" class="spinner-container">
            <div class="spinner"></div>
          </div>

          <div id="xrt-data" style="display: none;">
            <div class="oldy space-b current-xrt">
              <h4>{$tr('Current')}</h4>
              <span class="circulation-line"><span id="circulation">...</span> XRT</span>
              <span class="nw-line">Ethereum: <span id="ethereum">...</span> XRT</span>
              <span class="nw-line">Polkadot: <span id="polkadot">...</span> XRT</span>
              <span class="nw-line">Kusama: <span id="kusama">...</span> XRT</span>
            </div>
            <div class="oldy archive-xrt">
              <h4>{$tr('On 01.01.2024:')}</h4>
              <b class="archive-line"><span id="archive">...</span> XRT</b>
            </div>
          </div>
        </div>
        <div>
          <p>{$tr('IoT subscriptions with predictable latency  a critical feature and a unique Web3 solution for the IoT market developed by the Robo team. This kind of solution can currently only be built on')} <b>Polkadot</b>.</p>
          <p>{$tr('The total supply of XRT may increase or decrease over the course of a year. It depends on how expensive it is to maintain the infrastructure in a given year. Costs like shared security depend on the internal blockspace market, plus the expenses related to collators.')}</p>
        </div>
      </div>
    </div>
  </section>

  <section class="lifecycle section">
    <div class="layout">
      <h2 class="title-lined"><span>{$tr('Token Lifecycle')}</span></h2>

      <div class="total-deflation layout-p oldy">
        <h4>{$tr('Total deflation')}</h4>
        <span id="deflation">...</span>%
      </div>

      <div class="layout-p">
        <p>{$tr('Users can also pay for individual transactions. This user-oriented application of the token contributes to its deflationary mechanism.')}</p>
        <p>{$tr('At the same time, XRT serves as a token for supporting infrastructure. Collators who produce blocks receive a small reward (think of it as a tip). Additionally, the Robonomics Rollup makes regular payments for shared security. To cover this, the protocol mints new tokens.')}</p>
        <p>{$tr('As a result, the issuance of new tokens to support the infrastructure — combined with the demand for XRT driven by smart device owners activating subscriptions — creates an independent market for XRT, one that exists beyond the control of the developers.')}</p>
        <p>{$tr('So, we have a system where — if more users activate their IoT subscriptions in the Robonomics Rollup regularly, and the cost of maintaining the rollup and collators remains low — we experience deflation. If the opposite happens, we get inflation. But in both cases, it is fully transparent logical process.')}</p>
      </div>

      <img class="space-b" src="/images/xrt/xrt-scheme.webp" alt="Robonomics token lifecycle scheme" />

      <Youtube
        title="Life cycle in the Robonomics network with the application of observing networks"
        src="https://www.youtube.com/embed/a2EWaaFcFm8"
      />

      <Youtube
        title="Lifecycle of XRT tokens in Kusama (Polkadot 1.0)"
        src="https://www.youtube.com/embed/WcEvaQ5TIj4"
      />
    </div>
  </section>

  <section class="section">
    <div class="layout">
      <h2 class="title-lined"><span>{$tr('Practical Usage')}</span></h2>
      <figure class="usage__image">
        <a href="https://robonomics.app/#/" target="_blank" aria-label="go to the robonomics dapp">
          <img src="/images/xrt/dapp.webp" alt="dapp">
        </a>
        <figcaption>
          <a href="https://robonomics.app/#/" target="_blank" aria-label="go to the robonomics dapp">{$tr('Robonomics app for IoT subscriptions and smart devices control')}</a>
        </figcaption>
      </figure>

      <div class="layout-p">
        <p>{$tr('XRT can be used to purchase an IoT subscription that guarantees priority processing of device or user IoT transactions. All transactions within IoT subscriptions take precedence over transactions where one-time fee is paid.')}</p>
        <p>{$tr('Thus, for users who plan to regularly use the parachain, and for those for whom it is important to have predictable delay parameters for their IoT devices close to one block period, it is beneficial to choose a subscription model.')}</p>
        <p>{$tr('During the activation process of the IoT subscription, the payment amount is determined by an ultra-fast auction lasting 10 blocks (~1-2 min). The auction model allows the parachain to autonomously offer the most fair price to the user for activating the subscription.')}</p>
        <p>{$tr('The IoT subscription activation fee is burned in full at the end of the current IoT subscription auction.')}</p>
        <p>{$tr('More practical usages find in')} <a href={twitter[0].link} target="_blank" aria-label="check robonomics twitter">{$tr('Robonomics X(Twitter) account')}</a>.</p>
      </div>
    </div>
  </section>

  <section class="section find">
    <div class="layout">
      <h2 class="title-lined"><span>{$tr('Where to find')}</span></h2>
      <div class="grid-2 space-b">
        <div class="oldy">
          <h3><span>{$tr('XRT in')}</span> Polkadot / Kusama</h3>
          <ul class="list-simple">
            <li><a href="https://www.kraken.com/learn/buy-robonomics.network-xrt" target="_blank" aria-label="find xrt on kraken">Kraken</a></li>
            <li><a href="https://app.basilisk.cloud/pools-and-farms" target="_blank" aria-label="find xrt on basilisk">Basilisk</a></li>
            <li><a href="https://novawallet.io/" target="_blank" aria-label="find xrt on nova wallet">Nova Wallet</a></li>
          </ul>
          <ul class="list-simple">
            <li><a href="https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Fpolkadot.rpc.robonomics.network%2F#/explorer" target="_blank" aria-label="find xrt on substrate">Substrate</a></li>
            <li><a href="https://robonomics.subscan.io/" target="_blank" aria-label="find xrt on subscan">Subscan</a></li>
            <li><a href="https://robonomics.polkassembly.io/" target="_blank" aria-label="find xrt on polkassembly">Polkassembly</a></li>
          </ul>
        </div>
        <div class="oldy">
          <h3><span>{$tr('XRT in')}</span> Ethereum </h3>
          <ul class="list-simple">
            <li><a href="https://app.uniswap.org/swap?inputCurrency=0x7de91b204c1c737bcee6f000aaa6569cf7061cb7&outputCurrency=0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2" target="_blank" aria-label="find xrt on uniswap">Uniswap</a></li>
          </ul>
          <ul class="list-simple">
            <li><a href="https://etherscan.io/token/0x7de91b204c1c737bcee6f000aaa6569cf7061cb7" target="_blank" aria-label="find xrt on etherscan">Etherscan</a></li>
          </ul>
        </div>
      </div>

      <p class="find-beware"><b>{$tr('Be aware of scammers:')}</b> {$tr('please use only well known markets to exchange XRT. Do not send your tokens to accounts that are given to you in private messages whatever transaction you would like to carry out (buy or sell token). If you received any ‘loud statements’ about Robonomics token (scammers often use something like airdrop announcement), please check this website(https://robonomics.network/) or our')} <a href={twitter[0].link} target="_blank" aria-label="check out the robonomics twitter">{$tr('X (Twitter)')}</a> {$tr('for official updates. Be carefull, be safe')}.</p>
    </div>
  </section>

  <section class="section faq">
    <div class="layout">
      <h2 class="title-lined"><span>{$tr('Other Questions')}</span></h2>

      <h3 class="text-left">{$tr('What is RWS?')}</h3>
      <p>{$tr('Under development of core functionality For engineers, Core Dev team will try to make different Robonomics usage models and the first step in this way is launching lifetime subscription token - RWS token. Each RWS token will give you 1 transaction per second (tps) from/to your IoT device over Robonomics Parachain. Activate your RWS token and make "free gas" transactions with prior to execute and predictable latency. Deactivate RWS token and trade it on DEX.')}</p>

      <h3 class="text-left">{$tr('What is AIRA/AIR ID?')}</h3>
      <p>{$tr('Pre-XRT token distributed in 2017 as a autonomous part of futher Robonomics infrastructure on Ethereum. After successful launch of Robonomics over Ethereum in 2019 AIRA tokens was connected to created infrastructure of the project through ambix smart contract which guaranteed autonomous and independent process of swapping pre-XRT to ERC-20 XRT.')}</p>
    </div>
  </section>


</Layout>

<script>
 function formatXRT(value) {
    return parseInt(value / 1e9).toLocaleString("en-US").replace(/,/g, " ");
  }

  async function loadTokenData() {
    try {
      const res = await fetch("https://xrt-stat.robonomics.network/api/token");
      if (!res.ok) throw new Error(`HTTP ${res.status}`);

      const { result } = await res.json();

      document.getElementById("deflation").textContent = result.deflation;
      document.getElementById("circulation").textContent = formatXRT(result.current.sum);
      document.getElementById("ethereum").textContent = formatXRT(result.current.chains.ethereum.value);
      document.getElementById("kusama").textContent = formatXRT(result.current.chains.kusama.value);
      document.getElementById("polkadot").textContent = formatXRT(result.current.chains.polkadot.value);
      document.getElementById("archive").textContent = formatXRT(result.archive.sum);

      document.getElementById("xrt-loading").style.display = "none";
      document.getElementById("xrt-data").style.display = "block";
    } catch (err) {
      console.error("Failed to fetch token data:", err);
      document.getElementById("xrt-loading").textContent = "Failed to load data.";
    }
  }

  loadTokenData();
</script>


<style>

  h4 {
    margin: 0;
    text-align: left;
    text-transform: none;
    letter-spacing: 0;
  }

  li {
    margin-bottom: 0.5rem;
  }

  p {
    font-variation-settings: var(--font-flex-medium);
    font-size: calc(var(--base-font-size) * 1.1);
  }

  p b {
    font-variation-settings: var(--font-flex-bold);
  }

  a {
    text-decoration: underline;
    text-underline-offset: 2px;
    transition: text-decoration 0.3s ease-in;
  }

  a:not(:is(:hover, :focus)) {
    text-decoration-color: color-mix(in srgb, currentColor, transparent 75%);
  }

  .layout {
    max-width: 1060px;
  }

  .layout-p {
    max-width: 714px;
    margin: 0 auto;
  }

  .spinner-container {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .spinner {
    width: 1.5rem;
    height: 1.5rem;
    border: 3px solid rgba(255, 255, 255, 0.3);
    border-top-color: var(--color-blue);
    border-radius: 100%;
    animation: spin 0.8s linear infinite;
  }

  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }

  .xrt-top {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: calc(var(--space) * 0.5);
    padding-top: var(--space);
    font-variation-settings: var(--font-flex-medium);
    font-size: calc(var(--base-font-size) * 1.3);
  }

  .xrt-top img {
    max-width: 88px;
  }

  .xrt-top p {
    margin-bottom: 0;
  }

  .xrt-top b, #deflation {
    font-size: calc(var(--base-font-size) * 1.5);
    font-variation-settings: var(--font-flex-bold);
  }

  /* xrt data */
  .current-xrt, .archive-xrt {
    display: flex;
    flex-direction: column;
  }

  .xrt-total .oldy {
    padding: var(--space);
  }

  .circulation-line, .archive-line {
    font-size: calc(var(--base-font-size) * 1.5);
    font-variation-settings: var(--font-flex-extrabold);
    letter-spacing: 1px;
  }

  .circulation-line {
    margin-bottom: calc(var(--space) * 0.5);
  }

  .nw-line {
    margin-bottom: calc(var(--space) * 0.2);
  }

  .lifecycle {
    position: relative;
  }

  .lifecycle h2 {
    margin-bottom: calc(var(--space) * 2);
  }

  .total-deflation {
    position: absolute;
    top: calc(var(--space) * 3);
    right: var(--space);
  }

  .usage__image {
    margin-bottom: var(--space);
  }

  .usage__image figcaption {
    text-align: center;
  }

  .find h2 {
    margin-bottom: calc(var(--space) * 2);
  }

  .find h3 {
    max-width: 255px;
    margin: 0;
    margin-bottom: var(--space);
    display: flex;
    flex-direction: column;
    font-size: calc(var(--base-font-size) * 1.5);
    font-variation-settings: var(--font-flex-extrabold);
    text-align: left;
  }

  .find h3 span {
    font-size: var(--base-font-size);
    font-variation-settings: var(--font-flex-bold);
    text-transform: none;
  }

  .find .grid-2 {
    align-items: start;
  }

  .find ul:first-of-type {
    padding-bottom: calc(var(--space) * 0.7);
    margin-bottom: calc(var(--space) * 0.7);
    border-bottom: 1px solid var(--color-dark);
  }

  .find-beware {
    font-style: italic;
    color: var(--color-red)
  }

  .faq h3 {
    margin-bottom: 0;
  }

  .faq p {
    font-variation-settings: var(--font-settings);
  }

  @media screen and (max-width: 1120px) {
    .total-deflation {
      position: static;
      max-width: 200px;
      margin-bottom: calc(var(--space) * 2);
    }
  }

  @media screen and (max-width: 490px) {
    .xrt-top {
      flex-direction: column;
    }
  }
</style>


